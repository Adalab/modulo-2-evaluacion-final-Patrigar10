const p=document.querySelector(".js-search-input"),h=document.querySelector(".js-search-btn"),d=document.querySelector(".js-search-list");let r=[],o=JSON.parse(localStorage.getItem("favouritesKey"))||[];const m=document.querySelector(".js-favourites-list");let a="";const v=i=>{for(const t of i){const e=document.createElement("li");e.setAttribute("class","results_movie js-movie"),e.setAttribute("id",t.mal_id),d.appendChild(e);const s=document.createElement("img");s.setAttribute("class","results_movie_img"),t.url==="https://myanimelist.net/anime/38876/UFO"?s.setAttribute("src","https://developers.elementor.com/docs/assets/img/elementor-placeholder-image.png"):s.setAttribute("src",t.images.jpg.image_url),s.setAttribute("alt",t.titles[0].title),e.appendChild(s);const n=document.createElement("h3");n.setAttribute("class","results_movie_title"),e.appendChild(n);const c=document.createTextNode(t.titles[0].title);n.appendChild(c);const l=document.querySelectorAll(".js-movie");for(const u of l)u.addEventListener("click",g)}};a=i=>{m.innerHTML="";for(const t of i){const e=document.createElement("li");e.setAttribute("class","favs_movie js-movie results-title"),e.setAttribute("id",t.mal_id),m.appendChild(e);const s=document.createElement("img");s.setAttribute("class","favs_movie_img"),t.url==="https://myanimelist.net/anime/38876/UFO"?s.setAttribute("src","https://developers.elementor.com/docs/assets/img/elementor-placeholder-image.png"):s.setAttribute("src",t.images.jpg.image_url),s.setAttribute("alt",t.titles[0].title),e.appendChild(s);const n=document.createElement("h3");n.setAttribute("class","favs_movie_title"),e.appendChild(n);const c=document.createTextNode(t.titles[0].title);n.appendChild(c);const l=document.createElement("i");l.setAttribute("class","fa-solid fa-circle-xmark favs_movie_icon"),l.setAttribute("style","color: #eca3a3"),e.appendChild(l)}};o!==[]&&a(o);const f=i=>{i.preventDefault(),d.innerHTML="";const t=p.value;fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(e=>e.json()).then(e=>{r=e.data,v(e.data)})};h.addEventListener("click",f);const g=i=>{const t=parseInt(i.currentTarget.id);for(const s of r)t===s.mal_id&&i.currentTarget.classList.add("selected-bg");const e=r.find(s=>t===s.mal_id);o.push(e),localStorage.setItem("favouritesKey",JSON.stringify(o)),a(o)};
//# sourceMappingURL=main.js.map
