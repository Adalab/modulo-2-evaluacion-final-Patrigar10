const v=document.querySelector(".js-search-input"),p=document.querySelector(".js-search-btn"),u=document.querySelector(".js-search-list");let d=[],i=JSON.parse(localStorage.getItem("favouritesKey"))||[];const m=document.querySelector(".js-favourites-list");let r="";const h=document.querySelector(".js-reset-btn"),f=n=>{const s=parseInt(n.currentTarget.id),e=i.findIndex(t=>t.mal_id===s);console.log(e),console.log(i),i.splice(e,1),localStorage.setItem("favouritesKey",JSON.stringify(i)),r(i)},g=n=>{for(const s of n){const e=document.createElement("li");e.setAttribute("class","results_movie js-movie"),e.setAttribute("id",s.mal_id),u.appendChild(e);const t=document.createElement("img");t.setAttribute("class","results_movie_img"),s.url==="https://myanimelist.net/anime/38876/UFO"?t.setAttribute("src","https://developers.elementor.com/docs/assets/img/elementor-placeholder-image.png"):t.setAttribute("src",s.images.jpg.image_url),t.setAttribute("alt",s.titles[0].title),e.appendChild(t);const o=document.createElement("h3");o.setAttribute("class","results_movie_title"),e.appendChild(o);const l=document.createTextNode(s.titles[0].title);o.appendChild(l);const a=document.querySelectorAll(".js-movie");for(const c of a)c.addEventListener("click",_)}};r=n=>{m.innerHTML="";for(const e of n){const t=document.createElement("li");t.setAttribute("class","favs_movie js-fav results-title"),t.setAttribute("id",e.mal_id),m.appendChild(t);const o=document.createElement("img");o.setAttribute("class","favs_movie_img"),e.url==="https://myanimelist.net/anime/38876/UFO"?o.setAttribute("src","https://developers.elementor.com/docs/assets/img/elementor-placeholder-image.png"):o.setAttribute("src",e.images.jpg.image_url),o.setAttribute("alt",e.titles[0].title),t.appendChild(o);const l=document.createElement("h3");l.setAttribute("class","favs_movie_title"),t.appendChild(l);const a=document.createTextNode(e.titles[0].title);l.appendChild(a);const c=document.createElement("i");c.setAttribute("class","fa-solid fa-circle-xmark favs_movie_icon"),c.setAttribute("style","color: #eca3a3"),t.appendChild(c)}const s=document.querySelectorAll(".js-fav");for(const e of s)e.addEventListener("click",f)};i!==[]&&r(i);const b=n=>{n.preventDefault(),u.innerHTML="";const s=v.value;fetch(`https://api.jikan.moe/v4/anime?q=${s}`).then(e=>e.json()).then(e=>{d=e.data,g(e.data)})};p.addEventListener("click",b);const _=n=>{const s=parseInt(n.currentTarget.id);for(const t of d)s===t.mal_id&&n.currentTarget.classList.add("selected-bg");const e=d.find(t=>s===t.mal_id);i.push(e),localStorage.setItem("favouritesKey",JSON.stringify(i)),r(i)},A=()=>{u.innerHTML="",m.innerHTML=""};h.addEventListener("click",A);
//# sourceMappingURL=main.js.map
